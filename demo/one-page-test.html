<!DOCTYPE html>
<html lang="en">
<head>
    <title></title>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <style>
        #test {
            max-width: 960px;
            margin: 0 auto;
        }
    </style>
    <link href="../dist/css/default.css" rel="stylesheet"/>
</head>
<body>
<div id="test" data-ver-role="test">
    <div class="panel">
        <div class="page-header">
            <h2>Dynamic Tab</h2>
        </div>
        <div class="panel-body">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist" data-dynamic-tab="main">
                <li role="presentation" class="active">
                    <a href="#" aria-controls="home" role="tab"
                       data-toggle="tab">Home</a>
                </li>
                <li role="presentation">
                    <a href="#" aria-controls="profile" role="tab" data-toggle="tab">
                        Profile
                        <span class="form-invalid-tag">2</span>
                    </a>
                </li>
                <li role="presentation">
                    <a href="#" aria-controls="messages" role="tab" data-toggle="tab">Messages</a>
                </li>
                <li role="presentation">
                    <a href="#" aria-controls="settings" role="tab" data-toggle="tab">Settings</a>
                </li>
            </ul>
            <!-- Tab panes -->
            <div class="tab-content" data-dynamic-tab="main">
                <div role="tabpanel" class="tab-pane active" id="">
                    1

                </div>
                <div role="tabpanel" class="tab-pane" id="">
                    2
                    <form data-validate-form></form>
                </div>
                <div role="tabpanel" class="tab-pane" id="">3</div>
                <div role="tabpanel" class="tab-pane" id="">4</div>
            </div>
        </div>
    </div>
    <div class="panel">
        <div class="page-header">
            <h2>Form</h2>
        </div>
        <div class="panel-body">
            <div class="form-horizontal" method="post" data-validate-form>
                <div class="form-group row">
                    <label class="control-label col-xs-3 required">TextBox:</label>
                    <div class="col-xs-9">
                        <input name="text" class="form-control" required/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-xs-3 required">AutoComplete:</label>
                    <div class="col-xs-9">
                        <input name="autoComplete" data-role="autocomplete" class="form-control" required
                               data-text-field="name" data-bind="source: colors, value: autoCompleteValue"/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-xs-3 required">ComboBox:</label>
                    <div class="col-xs-9">
                        <select name="combobox" class="form-control" required data-role="combobox"
                                data-text-field="name"
                                data-bind="value: comboBoxValue, source: colors"></select>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-xs-3">DatePicker:</label>
                    <div class="col-xs-9">
                        <input name="datepicker" type="date" required class="form-control" data-role="datepicker"
                               data-bind="value: data.date"/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-xs-3 required">TimePicker:</label>
                    <div class="col-xs-9">
                        <input name="timepicker" data-role="timepicker" class="form-control" required
                               data-bind="value: timePickerValue"/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-xs-3 required">DateTimePicker:</label>
                    <div class="col-xs-9">
                        <input name="datetimepicker" type="datetime" class="form-control" required
                               data-role="datetimepicker"/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-xs-3 required">DropDownList:</label>
                    <div class="col-xs-9">
                        <select name="dropdownlist" data-role="dropdownlist" required class="form-control"
                                data-text-field="name" data-value-field="value"
                                data-bind="source: colors, value: dropDownListValue"></select>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-xs-3 required">NumericTextBox:</label>
                    <div class="col-xs-9">
                        <input name="numerictextbox" data-role="numerictextbox" required class="form-control"
                               data-format="c" data-bind="value: numericTextBoxValue"/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-xs-3 required">MultiSelect:</label>
                    <div class="col-xs-9">
                        <select name="multiselect" multiple="multiple" required class="form-control"
                                data-role="multiselect" data-text-field="name" data-value-field="value"
                                data-bind="source: colors, value: multiSelectValue"></select>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-xs-3 required">Slider:</label>
                    <div class="col-xs-9">
                        <input name="slider" type="range" data-role="slider" class="form-control" required
                               data-bind="value: sliderValue"/>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-xs-3 required">File Upload:</label>
                    <div class="col-xs-9">
                        <form id="mainForm" method="post">
                            <input type="file" name="file" id="" data-role="file">
                        </form>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-xs-9 col-xs-offset-3">
                        <button data-action="submit" class="btn btn-primary">提 交</button>
                    </div>
                </div>
                </form>
            </div>
        </div>
        <div class="panel">
            <div class="page-header">
                <h2>Binders</h2>
            </div>
            <div class="panel-body">
                <span data-bind='date: startDate' data-format='yyyy-MM-dd'></span>
            </div>
        </div>
        <div class="panel">
            <div class="panel-header">
                <h2>Button</h2>
            </div>
            <div class="panel-body">
                <button data-role="button" class="btn btn-default">按 钮</button>
                <button class="btn btn-default">按 钮</button>
                <div class="btn-group" data-toggle="buttons">
                    <label class="btn btn-default active">
                        <input type="radio" name="options" id="option1" autocomplete="off" checked> Radio 1
                        (preselected)
                    </label>
                    <label class="btn btn-default">
                        <input type="radio" name="options" id="option2" autocomplete="off"> Radio 2
                    </label>
                    <label class="btn btn-default">
                        <input type="radio" name="options" id="option3" autocomplete="off"> Radio 3
                    </label>
                </div>
            </div>
        </div>
        <div class="panel">
            <div class="panel-title">
                <h2>TabStrip</h2>
            </div>
            <div class="panel-body">
                <div class="demo-section k-content wide">
                    <ul class="fieldlist">
                        <li>
                            <h4>Splitter</h4>
                            <div data-role="splitter" data-panes="[{size:'30%', collapsible:true},{size:'70%'}]">
                                <div>Pane 1</div>
                                <div>Pane 2</div>
                            </div>
                        </li>
                        <li>
                            <h4>TabStrip</h4>
                            <div style="width: 400px;">
                                <div data-role="tabstrip" data-animation="false">
                                    <ul>
                                        <li class="k-state-active">
                                            Tab 1 with long text
                                        </li>
                                        <li>
                                            Tab 2 with long text
                                        </li>
                                        <li>
                                            Tab 3 with long text
                                        </li>
                                        <li>
                                            Tab 4 with long text
                                        </li>
                                    </ul>
                                    <div>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer felis
                                            libero,
                                            lobortis ac rutrum quis, varius a velit.</p>
                                    </div>
                                    <div>
                                        <p>Donec lacus erat, cursus sed porta quis, adipiscing et ligula. Duis volutpat,
                                            sem
                                            pharetra accumsan pharetra, mi ligula cursus felis, ac aliquet leo diam eget
                                            risus.</p>
                                    </div>
                                    <div>
                                        <p>Integer facilisis, justo cursus venenatis vehicula, massa nisl tempor sem, in
                                            ullamcorper neque mauris in orci.</p>
                                    </div>
                                    <div>
                                        <p>Ut orci ligula, varius ac consequat in, rhoncus in dolor. Mauris pulvinar
                                            molestie accumsan. Vestibulum ante ipsum primis in faucibus orci luctus et
                                            ultrices posuere cubilia Curae.</p>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="panel">
            <div class="panel-header">
                <h2>Toolbar</h2>
            </div>
            <div class="panel-body">
                <div id="toolbar"></div>
            </div>
        </div>
        <div class="panel">
            <div class="panel-heading">
                <div class="panel-title">Tree</div>
            </div>
            <div class="panel-body">
                <div data-role="tree" data-selectable="true" data-bind="source: treeviewSource" data-auto-bind="true"
                     data-text-field="text"></div>
            </div>
        </div>
        <div class="panel">
            <div class="panel-heading">
                <h2 class="panel-title">Pager</h2>
            </div>
            <div class="panel-body">
                <div data-role="pager" data-bind="source: gridSource"></div>
            </div>
        </div>
        <div class="panel">
            <div class="panel-heading">
                <h2 class="panel-title">Loading</h2>
            </div>
            <div class="panel-body">
                <div style="width: 100%; height: 200px; position:relative;">
                    <div class='k-loading-mask' style="width:100%;height:100%;">
                        <span class='k-loading-text'>Loading...</span>
                        <div class='k-loading-image'></div>
                        <div class='k-loading-color'></div>
                    </div>
                </div>
            </div>
        </div>

        <div>
            <button class="btn btn-default" data-action="get">Get</button>
        </div>
    </div>
    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../bower_components/lodash/dist/lodash.js"></script>
    <script src="../bower_components/veronica/dist/veronica.js"></script>
    <script src="../dist/js/veronica-ui.js"></script>
    <script>
        var app = veronica.createApp();
        app.use(veronicaui);
        app.uiKit.setDefault('keboacy');
        app.formValidation.setDefault('kendo');
        app.viewEngine.setDefault('kendo');

        app.backendApi.add('test', {
            api: {
                upload: '/test/test'
            }
        })

        app.widget.register('test', {
            defaults: {
                autoAction: true,
                enableValidation: true
            },
            stores: {
                'main': {
                    from: '@test',
                    commands: {
                        'upload': function (view, options) {
                            return this.submitForm('upload', view.$('#mainForm'), options);
                        }
                    }
                }
            },
            submitHandler: function (e) {
                this.validate();
                this.store().exec('upload', {
                    data: this.model().toJSON()
                }).done(function (resp) {
                    console.log(resp)
                }).fail(function (resp) {
                    console.log(resp)
                });
//
//            this.$('form').ajaxSubmit({
//                url: '/test/test'
//            });
            },
            getHandler: function (e) {
                debugger;
                console.log(this.model());
            },
            rendered: function () {
                $("#toolbar").kendoToolBar({
                    items: [
                        {type: "button", text: "Button"},
                        {type: "button", text: "Toggle Button", togglable: true},
                        {
                            type: "splitButton",
                            text: "Insert",
                            menuButtons: [
                                {text: "Insert above", icon: "insert-n"},
                                {text: "Insert between", icon: "insert-m"},
                                {text: "Insert below", icon: "insert-s"}
                            ]
                        },
                        {type: "separator"},
                        {template: "<label>Format:</label>"},
                        {
                            template: "<input id='dropdown' style='width: 150px;' />",
                            overflow: "never"
                        },
                        {type: "separator"},
                        {
                            type: "buttonGroup",
                            buttons: [
                                {
                                    spriteCssClass: "k-tool-icon k-justifyLeft",
                                    text: "Left",
                                    togglable: true,
                                    group: "text-align"
                                },
                                {
                                    spriteCssClass: "k-tool-icon k-justifyCenter",
                                    text: "Center",
                                    togglable: true,
                                    group: "text-align"
                                },
                                {
                                    spriteCssClass: "k-tool-icon k-justifyRight",
                                    text: "Right",
                                    togglable: true,
                                    group: "text-align"
                                }
                            ]
                        },
                        {
                            type: "buttonGroup",
                            buttons: [
                                {
                                    spriteCssClass: "k-tool-icon k-bold",
                                    text: "Bold",
                                    togglable: true,
                                    showText: "overflow"
                                },
                                {
                                    spriteCssClass: "k-tool-icon k-italic",
                                    text: "Italic",
                                    togglable: true,
                                    showText: "overflow"
                                },
                                {
                                    spriteCssClass: "k-tool-icon k-underline",
                                    text: "Underline",
                                    togglable: true,
                                    showText: "overflow"
                                }
                            ]
                        },
                        {
                            type: "button",
                            text: "Action",
                            overflow: "always"
                        },
                        {
                            type: "button",
                            text: "Another Action",
                            overflow: "always"
                        },
                        {
                            type: "button",
                            text: "Something else here",
                            overflow: "always"
                        }
                    ]
                });

                $("#dropdown").kendoDropDownList({
                    optionLabel: "Paragraph",
                    dataTextField: "text",
                    dataValueField: "value",
                    dataSource: [
                        {text: "Heading 1", value: 1},
                        {text: "Heading 2", value: 2},
                        {text: "Heading 3", value: 3},
                        {text: "Title", value: 4},
                        {text: "Subtitle", value: 5}
                    ]
                });
            },
            initAttr: function () {
                this.model({
                    data: {
                        date: new Date()
                    },
                    autoCompleteValue: null,
                    colors: [
                        {name: "Red", value: "#f00"},
                        {name: "Green", value: "#0f0"},
                        {name: "Blue", value: "#00f"}
                    ],
                    displayAutoCompleteValue: function () {
                        var autoCompleteValue = this.get("autoCompleteValue");
                        return kendo.stringify(autoCompleteValue);
                    },
                    comboBoxValue: null,
                    displayComboBoxValue: function () {
                        var comboBoxValue = this.get("comboBoxValue");
                        return kendo.stringify(comboBoxValue);
                    },
                    dropDownListValue: null,
                    displayDropDownListValue: function () {
                        var dropDownListValue = this.get("dropDownListValue");
                        return kendo.stringify(dropDownListValue);
                    },
                    numericTextBoxValue: 10,
                    displayNumericTextBoxValue: function () {
                        var numericTextBoxValue = this.get("numericTextBoxValue");

                        return kendo.toString(numericTextBoxValue, "c");
                    },
                    datePickerValue: new Date(),
                    displayDatePickerValue: function () {
                        var datePickerValue = this.get("datePickerValue");
                        return kendo.toString(datePickerValue, "yyyy-MM-dd");
                    },
                    timePickerValue: new Date(),
                    displayTimePickerValue: function () {
                        var timePickerValue = this.get("timePickerValue");

                        return kendo.toString(timePickerValue, "hh:mm:ss");
                    },
                    multiSelectValue: [],
                    displayMultiSelectValue: function () {
                        var multiSelectValue = this.get("multiSelectValue");
                        return kendo.stringify(multiSelectValue);
                    },
                    gridSource: [
                        {Name: "Chai", Price: 18.00, UnitsInStock: 39},
                        {Name: "Chang", Price: 19.00, UnitsInStock: 17},
                        {Name: "Mishi Kobe Niku", Price: 97.00, UnitsInStock: 29}
                    ],
                    displayGridSource: function () {
                        return stringify(this.get("gridSource"));
                    },
                    treeviewSource: kendo.data.HierarchicalDataSource.create({
                        data: [
                            {
                                text: "Andrew", expanded: true, items: [
                                {text: "Nancy"},
                                {text: "Steve"}
                            ]
                            }
                        ],
                        schema: {
                            model: {
                                children: 'items'
                            }
                        }
                    }),
                    displayTreeviewSource: function () {
                        return stringify(this.get("treeviewSource").toJSON());
                    }
                });
            }
        });
        app.parser.parse();
    </script>
</body>
</html>