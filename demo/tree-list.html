<!DOCTYPE html>
<html>
<head>
  <title>simpe page</title>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <link href="../bower_components/tinyui/dist/css/bootstrap.css" rel="stylesheet" />
  <link href="../bower_components/tinyui/dist/css/tiny.css" rel="stylesheet" />
  <link href="../bower_components/jstree-bootstrap-theme/dist/themes/proton/style.min.css" rel="stylesheet" />
</head>

<body>
  <hr />
  <div data-ver-role="hello-veronica-ui">
    <div id="jstree-proton-1" class="proton-demo">
      <ul>
        <li data-jstree='{ "opened" : true }'>
          Node1
          <ul>
            <li data-jstree='{ "icon" : "fa fa-arrow-circle-right" }'>
              <a href="#">Node1</a>
            </li>
            <li data-jstree='{ "icon" : "fa fa-arrow-circle-right" }'>
              Node1
            </li>
            <li data-jstree='{ "icon" : "fa fa-arrow-circle-right" }'>
              Node1
            </li>
          </ul>
        </li>
        <li data-jstree='{ "opened" : true }'>
          Node1
          <ul>
            <li data-jstree='{ "icon" : "fa fa-arrow-circle-right" }'>
              <a href="#">Node1</a>
            </li>
            <li data-jstree='{ "icon" : "fa fa-arrow-circle-right" }'>
              Node1
            </li>
            <li data-jstree='{ "icon" : "fa fa-arrow-circle-right" }'>
              Node1
            </li>
          </ul>
        </li>
        <li data-jstree='{ "opened" : true }'>
          Node1
          <ul>
            <li data-jstree='{ "icon" : "fa fa-arrow-circle-right" }'>
              <a href="#">Node1</a>
            </li>
            <li data-jstree='{ "icon" : "fa fa-arrow-circle-right" }'>
              Node1
            </li>
            <li data-jstree='{ "icon" : "fa fa-arrow-circle-right" }'>
              Node1
            </li>
          </ul>
        </li>
      </ul>
    </div>
    <div id="jstree_demo" class="demo" style="margin-top:1em; min-height:200px;"></div>
  </div>

  <script src="../bower_components/jquery/dist/jquery.min.js"></script>
  <script src="../bower_components/underscore/underscore-min.js"></script>
  <script src="../bower_components/veronica/dist/veronica.js"></script>
  <script src="../dist/veronica-ui.js"></script>
  <script src="../assets/jstree.js"></script>
  <script src="../assets/jstree-plugin.js"></script>
  <script>
    // jstree
    //$('#jstree-proton-1').jstree({
    //  'plugins': ["wholerow"],
    //  'core': {
    //    'themes': {
    //      'name': 'proton',
    //      'responsive': false
    //    }
    //  }
    //});

    var datasource = new kendo.data.HierarchicalDataSource({
      data: [
        {
          categoryName: "SciFi",
          movies: [
            {
              title: "Star Wars: A New Hope", year: 1977, cast: [
                {
                  actor: "Mark Hamill", character: "Luke Skywalker", cast: [
                  { actor: "Mark Hamill", character: "Luke Skywalker" },
                  { actor: "Harrison Ford", character: "Han Solo" },
                  { actor: "Carrie Fisher", character: "Princess Leia Organa" },
                  { actor: "Billy Dee Williams", character: "Lando Calrissian" }
                  ]
                },
                { actor: "Harrison Ford", character: "Han Solo" },
                { actor: "Carrie Fisher", character: "Princess Leia Organa" }
              ]
            },
            {
              title: "Star Wars: The Empire Strikes Back", year: 1980, cast: [
                { actor: "Mark Hamill", character: "Luke Skywalker" },
                { actor: "Harrison Ford", character: "Han Solo" },
                { actor: "Carrie Fisher", character: "Princess Leia Organa" },
                { actor: "Billy Dee Williams", character: "Lando Calrissian" }
              ]
            }
          ]
        },
                {
                  categoryName: "SciFi",
                  movies: [
                    {
                      title: "Star Wars: A New Hope", year: 1977, cast: [
                        { actor: "Mark Hamill", character: "Luke Skywalker" },
                        { actor: "Harrison Ford", character: "Han Solo" },
                        { actor: "Carrie Fisher", character: "Princess Leia Organa" }
                      ]
                    },
                    {
                      title: "Star Wars: The Empire Strikes Back", year: 1980, cast: [
                        { actor: "Mark Hamill", character: "Luke Skywalker" },
                        { actor: "Harrison Ford", character: "Han Solo" },
                        { actor: "Carrie Fisher", character: "Princess Leia Organa" },
                        { actor: "Billy Dee Williams", character: "Lando Calrissian" }
                      ]
                    }
                  ]
                }
      ],
      schema: {
        model: {
          children: { // define options for second level
            schema: {
              data: "movies",
              model: {
                children: "cast" // third level is defined by the field "cast"
              }
            }
          }
        }
      }
    });

    $('#jstree_demo').jstree({
      'plugins': ["kendoSource"],
      kendoSource: {
        source: datasource,
        map: function (data) {
          return data;
        }
      },
      "core": {
        "animation": 0,
        'themes': {
          'name': 'proton',
          'responsive': false
        },
        'data': [{
          'text': 'Root',
          'children': true
        }]
      }
    });


    datasource.read();

    var scifi = datasource.data()[0];
    scifi.load();
    var sw5 = scifi.children.data()[1];
    sw5.load();
    console.log(sw5.children.data().length); // logs 4
  </script>
</body>

</html>
